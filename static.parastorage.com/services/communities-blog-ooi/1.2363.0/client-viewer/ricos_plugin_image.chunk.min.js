"use strict";(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[2891],{30872:(e,i,t)=>{t.d(i,{X:()=>r});var a=t(60751),n=t.n(a),o=t(42049),d="iPIms";const r=({node:e,nodeIndex:i,NodeViewContainer:t,RicosNodesRenderer:a,children:r})=>{const s=e.imageData?.caption&&!e.nodes?.length?[{type:o.A.CAPTION,id:`${e.id??""}-caption`,nodes:[{type:o.A.TEXT,id:"",nodes:[],textData:{text:e.imageData.caption,decorations:[]}}]}]:e.nodes??[];return n().createElement(t,{node:e,nodeIndex:i},(({ContainerElement:e,SpoilerWrapper:i,LinkWrapper:t})=>n().createElement(e,null,n().createElement("figure",{className:d},n().createElement(t,null,n().createElement(i,null,r)),n().createElement(a,{nodes:s})))))}},47298:(e,i,t)=>{t.d(i,{A2:()=>l,Df:()=>o,Dl:()=>a,HJ:()=>r,Lr:()=>s,Ro:()=>n,XM:()=>d,kI:()=>c});const a="imageViewer",n=" imageSettings",o="imagePreview",d="imageSettingsAltInput",r="imageSettingsDisableExpandToggle",s="imageSettingsDisableDownloadToggle",l="imageSettingsSpoilerToggle",c="imageExpandButton"},81155:(e,i,t)=>{t.d(i,{_:()=>v});var a=t(4452),n=t.n(a),o=t(60751),d=t.n(o),r=t(38132),s=t(69280),l=t(47298);var c=e=>d().createElement("svg",{viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg",...e},d().createElement("path",{d:"M15.071 8.371V4.585l-4.355 4.356a.2.2 0 0 1-.283 0l-.374-.374a.2.2 0 0 1 0-.283l4.356-4.355h-3.786a.2.2 0 0 1-.2-.2V3.2c0-.11.09-.2.2-.2H16v5.371a.2.2 0 0 1-.2.2h-.529a.2.2 0 0 1-.2-.2zm-6.5 6.9v.529a.2.2 0 0 1-.2.2H3v-5.371c0-.11.09-.2.2-.2h.529c.11 0 .2.09.2.2v3.786l4.355-4.356a.2.2 0 0 1 .283 0l.374.374a.2.2 0 0 1 0 .283L4.585 15.07h3.786c.11 0 .2.09.2.2z",fill:"#000",fillRule:"nonzero"})),g="LbId-",m="_47jcg",h="agPXk",u="c89iO",p="Z5MG0",w="mn67h";const f=e=>{const{type:i,children:t}=e,a=!0===e.disableDownload?e=>e.preventDefault():void 0,n="onClick"in e,o=n?e.onClick:void 0,r=o?e=>{"Enter"!==e.key&&" "!==e.key||o(e)}:void 0,s={onClick:o,onKeyDown:r,onContextMenu:a},c=n||"regular"===i&&a?"button":void 0,m="button"===c?0:void 0;return d().createElement("div",{..."button"===c?s:{},role:c,"data-hook":l.Dl,tabIndex:m,className:g,"aria-haspopup":"button"===c||void 0},t)};var D=t(16252),b=t.n(D);const v=({dataUrl:e,node:i,className:t,config:a,helpers:g,isMobile:D,seoMode:v,imageClickActionConfig:E,expand:I,shouldLazyLoadImages:k})=>{const y=i.imageData?.containerData||s._t.containerData,{image:C,altText:N}=i.imageData||{},{src:M}=C||{},_=(0,o.useMemo)((()=>{if(e)return e;const{url:i,id:t}=M||{};if(i)return i;const{getImageUrl:a}=g??{};return a&&t?a({file_name:t}):t}),[e,i.imageData?.image?.src?.url,i.imageData?.image?.src?.id,g?.getImageUrl]),{width:L,height:A}=(({src:e,containerData:i,image:t})=>{const[a,n]=(0,o.useState)({width:void 0,height:void 0}),d=t?.width||Number(i?.width?.custom)||a.width,r=t?.height||Number(i?.height?.custom)||a.height;return(0,o.useLayoutEffect)((()=>{if("number"==typeof d&&"number"==typeof r)return;if(n({width:void 0,height:void 0}),!e)return;const i=new Image;return i.onload=()=>n({width:i.width,height:i.height}),i.src=e,()=>{i.onload=null}}),[e]),{width:d,height:r}})({src:_,containerData:y,image:C}),P=(({containerData:e,isMobile:i})=>"LEFT"!==e?.alignment&&"RIGHT"!==e?.alignment||e.width?.custom||"SMALL"===e.width?.size||"ORIGINAL"===e.width?.size||i?{}:{width:"300px"})({containerData:y,isMobile:D}),R=(({containerData:e,isMobile:i,width:t})=>"ORIGINAL"===e?.width?.size||i&&(Number(e?.width?.custom)||0)>150?{width:t??"0px",maxWidth:"100%"}:{})({containerData:y,isMobile:D,width:L}),S=(({src:e,config:i,width:t,height:a})=>{if(void 0===e||void 0===i?.imageProps)return{};const n=b().isFunction(i.imageProps)?i.imageProps({url:e.url,file_name:e.id,width:t,height:a}):i.imageProps;return["data-pin-nopin","data-pin-url","data-pin-media"].reduce(((e,i)=>n[i]?{...e,[i]:n[i]}:e),{})})({config:a,src:M,width:C?.width,height:C?.height}),T=void 0!==L&&void 0!==A;return d().createElement(f,{...E,disableDownload:i.imageData?.disableDownload},T&&_&&d().createElement(r.A,{id:i.imageData?.image?.src?.id??_,containerId:i.id,displayMode:"fill",width:L,height:A,uri:i.imageData?.image?.src?.id??_,alt:N||x(i)||"",containerProps:{className:n()(p,w,t,{[u]:!!I}),containerId:i.id,style:{"--dim-height":A,"--dim-width":L,...P,...R}},imageStyles:{maxWidth:"100%"},socialAttrs:{...S,draggable:!1},isSEOBot:!!v,encoding:a?.encoding,...k?{placeholderTransition:v?void 0:"blur",shouldUseLQIP:!1!==a?.disableTransition}:{}}),!!I&&d().createElement("div",{className:m,onClick:I,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||I(e)},role:"button",tabIndex:0,"data-hook":l.kI},d().createElement(c,{className:h})))},x=e=>e.nodes?.[0]?.nodes?.length?e.nodes[0].nodes.map((e=>e.textData.text)).join(""):""},82616:(e,i,t)=>{t.r(i),t.d(i,{ViewerImage:()=>c,default:()=>g});var a=t(60751),n=t.n(a),o=t(31031),d=t(82569),r=t(47574),s=t(30872),l=t(81155);t(22446);const c=({node:e,nodeIndex:i,NodeViewContainer:t,RicosNodesRenderer:c})=>{const{config:g,seoMode:u,helpers:p}=(0,a.useContext)(d.u),{isMobile:w}=(0,a.useContext)(r.iB),f=g[o.V5]??{},D=h({helpers:p,config:f,nodeId:e.id,imageData:e.imageData}),b=m({imageData:e.imageData,config:f,expand:D});return n().createElement(s.X,{node:e,nodeIndex:i,NodeViewContainer:t,RicosNodesRenderer:c},n().createElement(l._,{node:e,imageClickActionConfig:b,expand:D,config:f,seoMode:u,helpers:p,isMobile:w,shouldLazyLoadImages:!0}))};var g=({node:e,...i})=>n().createElement(c,{key:e.id,node:e,...i});const m=({imageData:e,config:i,expand:t})=>e?.link?.url&&i?{type:"link"}:e?.link?.anchor?{type:"anchor"}:t?{type:"expand",onClick:t}:{type:"regular"},h=({helpers:e,config:i,nodeId:t,imageData:a})=>{const{onExpand:n,disableExpand:d}=i;if(!0!==a?.disableExpand&&!0!==d&&n)return i=>{i.preventDefault(),i.stopPropagation(),e.onViewerAction?.(o.V5,"Click","expand_image"),n(t)}}},22446:()=>{}}]);
//# sourceMappingURL=ricos_plugin_image.chunk.min.js.map